import "./ws-iUSOdHtT.js";
import { PartySocket } from "./index.js";
import {
  i as useAttachWebSocketEventHandlers,
  n as getOptionsThatShouldCauseRestartWhenChanged,
  r as useStableSocket,
  t as useWebSocket
} from "./use-ws-8-qLM9St.js";

//#region src/react.ts
function usePartySocket(options) {
  const { host, ...otherOptions } = options;
  const socket = useStableSocket({
    options: {
      host:
        host ||
        (typeof window !== "undefined"
          ? window.location.host
          : "dummy-domain.com"),
      ...otherOptions
    },
    createSocket: (options$1) => new PartySocket(options$1),
    createSocketMemoKey: (options$1) =>
      JSON.stringify([
        options$1.query,
        options$1.id,
        options$1.host,
        options$1.room,
        options$1.party,
        options$1.path,
        options$1.protocol,
        options$1.protocols,
        options$1.basePath,
        options$1.prefix,
        ...getOptionsThatShouldCauseRestartWhenChanged(options$1)
      ])
  });
  useAttachWebSocketEventHandlers(socket, options);
  return socket;
}

//#endregion
export { usePartySocket as default, usePartySocket, useWebSocket };
//# sourceMappingURL=react.js.map
